(()=>{"use strict";({136:function(){var e=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(i,c){function r(e){try{a(n.next(e))}catch(e){c(e)}}function d(e){try{a(n.throw(e))}catch(e){c(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,d)}a((n=n.apply(e,t||[])).next())}))};chrome.tabs.onCreated.addListener((t=>e(void 0,void 0,void 0,(function*(){yield chrome.action.setBadgeText({tabId:t.id,text:""})})))),chrome.tabs.onUpdated.addListener((function(t,o){if(o.url){const n="www.google.com",i=()=>{c(),r(),chrome.webNavigation.onCompleted.addListener((()=>e(this,void 0,void 0,(function*(){new URL(o.url||"").hostname!==n&&(yield s(),yield l())}))))},c=()=>{d(new URL(o.url||"").hostname)},r=()=>{d("medium.com")},d=t=>e(this,void 0,void 0,(function*(){let e=0;try{const o=yield chrome.cookies.getAll({domain:t});if(0===o.length)return"No cookies found";let n=o.map(a);yield Promise.all(n),e=n.length}catch(e){console.log(`Cookies cleaner unexpected error: ${e.message}`)}})),a=e=>{const{secure:t,domain:o,path:n,name:i,storeId:c}=e,r=`${t?"https:":"http:"}//${"."===o[0]?o.split("").slice(1).join(""):o}${n}`;return chrome.cookies.remove({url:r,name:i,storeId:c})},s=()=>e(this,void 0,void 0,(function*(){yield chrome.scripting.executeScript({target:{tabId:t},files:["content.js"]})})),l=()=>e(this,void 0,void 0,(function*(){yield chrome.action.setBadgeBackgroundColor({tabId:t,color:"#34A853"}),yield chrome.action.setBadgeText({tabId:t,text:"Done"})}));i()}}))}})[136]()})();