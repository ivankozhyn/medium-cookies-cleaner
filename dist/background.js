(()=>{"use strict";({136:function(){var e=this&&this.__awaiter||function(e,o,t,i){return new(t||(t=Promise))((function(n,d){function r(e){try{a(i.next(e))}catch(e){d(e)}}function c(e){try{a(i.throw(e))}catch(e){d(e)}}function a(e){var o;e.done?n(e.value):(o=e.value,o instanceof t?o:new t((function(e){e(o)}))).then(r,c)}a((i=i.apply(e,o||[])).next())}))};chrome.tabs.onCreated.addListener((o=>e(void 0,void 0,void 0,(function*(){yield chrome.action.setBadgeText({tabId:o.id,text:""})})))),chrome.tabs.onUpdated.addListener(((o,t)=>e(void 0,void 0,void 0,(function*(){"complete"===t.status&&chrome.tabs.get(o,(i=>{i.url&&!i.url.includes("chrome://")&&e(void 0,void 0,void 0,(function*(){try{yield chrome.scripting.executeScript({target:{tabId:o},files:["content.js"]})}catch(e){console.log("injectMyJSCodeToCurrentSite error: ",e,t.url,o)}}))}))})))),chrome.runtime.onMessage.addListener(((o,t,i)=>{var n;try{const d=(o,t="#34A853",i="Done")=>e(void 0,void 0,void 0,(function*(){yield chrome.action.setBadgeBackgroundColor({tabId:o,color:t}),yield chrome.action.setBadgeText({tabId:o,text:i})}));if("deleteCookies"===o.message){const o=()=>e(void 0,void 0,void 0,(function*(){n(),r(),i({status:"done"}),yield l()})),n=()=>{var e,o;(null===(e=null==t?void 0:t.tab)||void 0===e?void 0:e.url)&&c(new URL(null===(o=null==t?void 0:t.tab)||void 0===o?void 0:o.url).hostname)},r=()=>{c("medium.com")},c=o=>e(void 0,void 0,void 0,(function*(){let e=0;try{const t=yield chrome.cookies.getAll({domain:o});if(0===t.length)return"No cookies found";let i=t.map(a);yield Promise.all(i),e=i.length}catch(e){console.log(`Cookies cleaner unexpected error: ${e.message}`)}})),a=e=>{const{secure:o,domain:t,path:i,name:n,storeId:d}=e,r=`${o?"https:":"http:"}//${"."===t[0]?t.split("").slice(1).join(""):t}${i}`;return chrome.cookies.remove({url:r,name:n,storeId:d})},l=()=>{var e;(null===(e=null==t?void 0:t.tab)||void 0===e?void 0:e.id)&&d(t.tab.id,"#4F74B3")};o()}"deleteBanners"===o.message&&(null===(n=null==t?void 0:t.tab)||void 0===n?void 0:n.id)&&d(t.tab.id)}catch(e){console.log("error: ",e)}}))}})[136]()})();